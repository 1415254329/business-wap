(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d4f4484"],{"14e6":function(e,t,n){},"180d":function(e,t,n){},"1ec7":function(e,t,n){"use strict";var a=n("2c54"),i=n.n(a);i.a},"2c54":function(e,t,n){},"2f21":function(e,t,n){"use strict";var a=n("79e5");e.exports=function(e,t){return!!e&&a((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4416:function(e,t,n){"use strict";var a=n("6f60"),i=n.n(a);i.a},"504c":function(e,t,n){var a=n("0d58"),i=n("6821"),s=n("52a7").f;e.exports=function(e){return function(t){var n,r=i(t),l=a(r),o=l.length,c=0,u=[];while(o>c)s.call(r,n=l[c++])&&u.push(e?[n,r[n]]:r[n]);return u}}},"505c":function(e,t,n){},"55dd":function(e,t,n){"use strict";var a=n("5ca1"),i=n("d8e8"),s=n("4bf8"),r=n("79e5"),l=[].sort,o=[1,2,3];a(a.P+a.F*(r((function(){o.sort(void 0)}))||!r((function(){o.sort(null)}))||!n("2f21")(l)),"Array",{sort:function(e){return void 0===e?l.call(s(this)):l.call(s(this),i(e))}})},"6c67":function(e,t,n){"use strict";var a=n("9328"),i=n.n(a);i.a},"6df2":function(e,t,n){"use strict";var a=n("d2c4"),i=n.n(a);i.a},"6f60":function(e,t,n){},8615:function(e,t,n){var a=n("5ca1"),i=n("504c")(!1);a(a.S,"Object",{values:function(e){return i(e)}})},"8b02":function(e,t,n){"use strict";var a=n("cbd1"),i=n.n(a);i.a},9244:function(e,t,n){"use strict";var a=n("14e6"),i=n.n(a);i.a},9328:function(e,t,n){},b68d:function(e,t,n){"use strict";var a=n("505c"),i=n.n(a);i.a},c4a5:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"finance"},[n("div",{staticClass:"finance-menu"},[n("el-menu",{attrs:{"default-active":"报表统计"},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"报表统计"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("报表统计")])]),n("el-menu-item",{attrs:{index:"店铺每日报表"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("店铺每日报表")])]),n("el-menu-item",{attrs:{index:"店内利润报表"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("店内利润报表")])]),0===e.$store.getters.userInfo.master_id?n("el-menu-item",{attrs:{index:"连锁报表统计"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("连锁报表统计")])]):e._e(),n("el-menu-item",{attrs:{index:"跨店报表分析"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("跨店报表分析")])]),n("el-menu-item",{attrs:{index:"支付方式统计"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("支付方式统计")])]),n("el-menu-item",{attrs:{index:"分类销售额统计"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("分类销售额统计")])]),n("el-menu-item",{attrs:{index:"服务项目销售"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("服务项目销售")])]),n("el-menu-item",{attrs:{index:"商品销售数统计"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("商品销售数统计")])]),n("el-menu-item",{attrs:{index:"计次销售数统计"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("计次销售数统计")])]),n("el-menu-item",{attrs:{index:"订单统计"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("订单统计")])]),n("el-menu-item",{attrs:{index:"还款记录"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("还款记录")])]),n("el-menu-item",{attrs:{index:"撤单记录"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("撤单记录")])])],1)],1),n("div",{staticClass:"finance-main"},[n(e.componentName,{tag:"component"})],1)])},i=[],s=(n("ac6a"),n("5df3"),n("f400"),n("cadf"),n("551c"),n("097d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:[e.stats],"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"营业收入",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.business))]}}])}),n("el-table-column",{attrs:{align:"center",label:"订单总数","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"男客数",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.gender.man||0))]}}])}),n("el-table-column",{attrs:{align:"center",label:"女客数","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.gender.woman||0))]}}])}),n("el-table-column",{attrs:{align:"center",label:"游客单数",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.tourist_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"游客总额","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.tourist_peice))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员单数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"新会员开卡数","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.new_member_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员开卡充值","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.new_member.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员开卡赠金","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.new_member.giving_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员充值金额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员充值赠金","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.giving_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"订单消费总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"店内消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(Number(t.row.price-t.row.meter_orders.price+t.row.meter_employ.price).toFixed(2)))]}}])}),n("el-table-column",{attrs:{align:"center",label:"余额消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sys_pay.payment_balance))]}}])}),n("el-table-column",{attrs:{align:"center",label:"计次使用总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.meter_employ.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"计次消费总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.meter_orders.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"赠金消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sys_pay.payment_giving))]}}])}),n("el-table-column",{attrs:{align:"center",label:"欠款订单总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.await))]}}])}),n("el-table-column",{attrs:{align:"center",label:"免单订单总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.free))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员现金金额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member_cash))]}}])}),n("el-table-column",{attrs:{align:"center",label:"还款金额","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.repay[0].arrears_price||0))]}}])})],1)],1)}),r=[],l=n("ed08"),o={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:{gender:{},member:{},new_member:{},sys_pay:{},repay:[{}],meter_employ:{},meter_orders:{}},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getReportStats(this.searchForm).then((function(t){t.data.gender=t.data.gender?t.data.gender.reduce((function(e,t){return"男"===t.gender?e["man"]=t.qty:"女"===t.gender&&(e["woman"]=t.qty),e}),{}):{},t.data.repay=t.data.repay||[{}],e.stats=t.data,e.listLoading=!1})))}}},c=o,u=(n("8b02"),n("2877")),m=Object(u["a"])(c,s,r,!1,null,"48347816",null);m.options.__file="report.vue";var d=m.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:[e.stats],"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"营业收入",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.stats.business))]}}])}),n("el-table-column",{attrs:{align:"center",label:"支付方式"}},e._l(e.stats.payments,(function(t,a){return n("el-table-column",{key:a,attrs:{align:"center",label:t.payment_name,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v(e._s(t.amount_price))]}}])})})))],1)],1)},p=[],g={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:{},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getPaymentStats(this.searchForm).then((function(t){e.stats=t.data,e.listLoading=!1})))}}},_=g,h=(n("4416"),Object(u["a"])(_,f,p,!1,null,"38978f84",null));h.options.__file="payment.vue";var b=h.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:[e.stats],"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"快速消费"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.stats.speedy))]}}])}),n("el-table-column",{attrs:{align:"center",label:"服务项目"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.stats.project))]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品销售"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.stats.commdity))]}}])}),n("el-table-column",{attrs:{align:"center",label:"计次购买"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.stats.meter))]}}])})],1)],1)},y=[],v={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:{},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getCategoryStats(this.searchForm).then((function(t){e.stats=t.data,e.listLoading=!1})))}}},D=v,k=Object(u["a"])(D,w,y,!1,null,null,null);k.options.__file="category.vue";var T=k.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.stats,"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.self_alias))]}}])}),n("el-table-column",{attrs:{align:"center",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.qty))]}}])}),n("el-table-column",{attrs:{align:"center",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"利润"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.profit_price))]}}])})],1)],1)},S=[],j={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getCommodityStats(this.searchForm).then((function(t){e.stats=t.data,e.listLoading=!1})))}}},C=j,L=Object(u["a"])(C,O,S,!1,null,null,null);L.options.__file="commodity.vue";var x=L.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.stats,"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.self_alias))]}}])}),n("el-table-column",{attrs:{align:"center",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.qty))]}}])}),n("el-table-column",{attrs:{align:"center",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"利润"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.profit_price))]}}])})],1)],1)},$=[],M={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getServiceStats(this.searchForm).then((function(t){e.stats=t.data,e.listLoading=!1})))}}},N=M,z=Object(u["a"])(N,F,$,!1,null,null,null);z.options.__file="service.vue";var V=z.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.stats,"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.self_alias))]}}])}),n("el-table-column",{attrs:{align:"center",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.qty))]}}])}),n("el-table-column",{attrs:{align:"center",label:"金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"利润"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.profit_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"剩余计次"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.remain_num))]}}])}),n("el-table-column",{attrs:{align:"center",label:"剩余业绩 "},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.remain_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"已使用次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.uses_num))]}}])}),n("el-table-column",{attrs:{align:"center",label:"已使用的业绩"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.uses_price))]}}])})],1)],1)},E=[],R={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getMeterStats(this.searchForm).then((function(t){e.stats=t.data,e.listLoading=!1})))}}},P=R,q=Object(u["a"])(P,H,E,!1,null,null,null);q.options.__file="meter.vue";var I=q.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:[e.stats],"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"订单数量明细"}},[n("el-table-column",{attrs:{align:"center",label:"订单总数"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.report.count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"消费订单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.report.count-t.row.member.deposit_count-t.row.member.new_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"开卡订单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.new_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"充值订单"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.deposit_count))]}}])})],1),n("el-table-column",{attrs:{align:"center",label:"会员开卡"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.new.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员充值"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.general.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"消费金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.report.consumePrice))]}}])}),n("el-table-column",{attrs:{align:"center",label:"总体统计"}},[n("el-table-column",{attrs:{align:"center",label:"现金总业绩","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.report.business))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员耗卡"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.report.sys_pay.payment_balance||0+t.row.report.sys_pay.giving_price||0))]}}])}),n("el-table-column",{attrs:{align:"center",label:"散客金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.tourist.total))]}}])})],1)],1)],1)},A=[],U={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:{tourist:{},member:{new:{},general:{}},report:{sys_pay:{}}},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getOrderStats(this.searchForm).then((function(t){t.data.member.new_payments=t.data.member.new_payments||[],t.data.member.deposit_payments=t.data.member.deposit_payments||[],t.data.tourist.payments=t.data.tourist.payments||[],t.data.report.gender=t.data.report.gender||[],t.data.report.consume_payments=t.data.report.consume_payments||[],t.data.report.payments=t.data.report.payments||[],t.data.report.consumePrice=t.data.report.consume_payments.reduce((function(e,t){return e+t.amount_price}),0),e.stats=t.data,e.listLoading=!1})))}}},J=U,G=(n("6c67"),Object(u["a"])(J,B,A,!1,null,"966df732",null));G.options.__file="order.vue";var K=G.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.stats,"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"店铺名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.store_name))]}}])}),n("el-table-column",{attrs:{align:"center",label:"营业收入",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.business))]}}])}),n("el-table-column",{attrs:{align:"center",label:"订单总数","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"男客数",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.gender.man||0))]}}])}),n("el-table-column",{attrs:{align:"center",label:"女客数","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.gender.woman||0))]}}])}),n("el-table-column",{attrs:{align:"center",label:"游客单数",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.tourist_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"游客总额","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.tourist_peice))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员单数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.member_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"新会员开卡数","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.new_member_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员开卡充值",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.new_member.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员开卡赠金","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.new_member.giving_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员充值金额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.member.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员充值赠金","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.member.giving_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"订单消费总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"余额消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.sys_pay.payment_balance))]}}])}),n("el-table-column",{attrs:{align:"center",label:"赠金消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.sys_pay.payment_giving))]}}])}),n("el-table-column",{attrs:{align:"center",label:"欠款订单总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.await))]}}])}),n("el-table-column",{attrs:{align:"center",label:"免单订单总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.free))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员现金金额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.member_cash))]}}])}),n("el-table-column",{attrs:{align:"center",label:"还款金额","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.patrol.repay[0].arrears_price||0))]}}])})],1)],1)},W=[],X={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getShopReportStats(this.searchForm).then((function(t){t.data&&t.data.map((function(e){e.patrol.gender=e.patrol.gender?e.patrol.gender.reduce((function(e,t){return"男"===t.gender?e["man"]=t.qty:"女"===t.gender&&(e["woman"]=t.qty),e}),{}):{},e.patrol.repay=e.patrol.repay||[{}]})),e.stats=t.data,e.listLoading=!1})))}}},Y=X,Z=Object(u["a"])(Y,Q,W,!1,null,null,null);Z.options.__file="shopReport.vue";var ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-select",{attrs:{placeholder:"请选择",disabled:e.listLoading},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.statusList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))),n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.curStats,"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"还款时间","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.repay_time))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.memberName))]}}])}),n("el-table-column",{attrs:{align:"center",label:"手机号","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.memberPhone))]}}])}),n("el-table-column",{attrs:{align:"center",label:"支付方式",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.payment_name))]}}])}),n("el-table-column",{attrs:{align:"center",label:"还款金额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.arrears_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"还款后欠款",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.arrears_after_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){e.handleDelete(t.row,t.$index)}}},[e._v("撤单")]):e._e()]}}])})],1)],1)},ne=[],ae=(n("8615"),{data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:[],curStats:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]},status:0,statusList:[{value:0,label:"正常"},{value:1,label:"封禁"},{value:2,label:"全部"}]}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")},status:function(e){switch(e){case 0:this.curStats=this.stats.filter((function(e){return 0===e.status}));break;case 1:this.curStats=this.stats.filter((function(e){return 2===e.status}));break;case 2:this.curStats=this.stats;break;default:break}}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getMemberList:function(){return this.$api.common.getMemberList().then((function(e){return e.data?Object.values(e.data):[]}))},getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.member.getMemberDebt(this.searchForm).then((function(t){e.getMemberList().then((function(n){t.data&&t.data.map((function(e){n.map((function(t){e.member_id===t.id&&(e.memberName=t.alias,e.memberPhone=t.phone)}))})),e.stats=t.data||[],e.curStats=e.stats.filter((function(e){return 0===e.status}))})),e.listLoading=!1})))},handleDelete:function(e,t){var n=this;this.$api.member.delMemberDebt(e.id).then((function(a){n.$Message.success("撤单成功"),e.status=2,n.curStats.splice(t,1)}))}}}),ie=ae,se=(n("1ec7"),Object(u["a"])(ie,te,ne,!1,null,"2818df5d",null));se.options.__file="debtBack.vue";var re=se.exports,le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.list.slice((e.pageVar.page-1)*e.pageVar.pageSize,e.pageVar.page*e.pageVar.pageSize),"span-method":e.rowMerge,"cell-class-name":e.bonusCellClass,"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"下单时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.orderDate)),n("br"),e._v(e._s(t.row.orderTime))]}}])}),n("el-table-column",{attrs:{align:"center",label:"单号","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.order_no))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员资料",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[e._v(e._s((t.row.alias||"散客")+"("+(t.row.gender?"男":"女")+"客:"+t.row.body_count+")"))]),n("p",[e._v(e._s(t.row.phone))]),n("p",[e._v("("+e._s(t.row.member_serial_num||"无卡号信息")+")")])]}}])}),n("el-table-column",{attrs:{align:"center",label:"付款明细",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.payments,(function(t,a){return n("p",{key:a},[e._v("\n          "+e._s(t.payment_name+":"+t.amount_price)+"\n        ")])}))}}])}),n("el-table-column",{attrs:{align:"center",label:"合计","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.gross_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"项目明细","class-name":"bonus-column-custom"}},[n("el-table-column",{attrs:{align:"center",label:"消费项目"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"bonus"},[t.row.shopping_cart.length?n("div",e._l(t.row.shopping_cart,(function(t,a){return n("div",{key:a,staticClass:"bonus-item"},[n("div",{staticClass:"name"},[e._v("\n                  "+e._s(t.good.alias)+"\n                  "),["countBuyUse","countBoughtUse"].includes(t.type)?n("span",[n("br"),e._v(e._s("(使用"+t.useTimes+"次)")+"\n                  ")]):e._e()]),n("div",{staticClass:"perform"},[e._v("\n                  "+e._s(""+(["countBuyUse","countBoughtUse"].includes(t.type)?t.good.employ_cardinal_price*Number(t.useTimes):t.discountPriceAll))+"\n                ")]),n("div",{staticClass:"staffList"},e._l(t.bonusList,(function(t,a){return n("div",{key:a,staticClass:"staffList-item"},[n("div",{staticClass:"staffList-item-name"},[e._v(e._s(t.staff.staff_name))]),n("div",{staticClass:"staffList-item-isSpecial"},[e._v("\n                      "+e._s(t.specified_switch?"是":"否")+"\n                    ")]),n("div",{staticClass:"staffList-item-perform"},[e._v("\n                      "+e._s(t.performance_price)+"\n                    ")]),n("div",{staticClass:"staffList-item-commission"},[e._v("\n                      "+e._s(t.dividends_price)+"\n                    ")])])})))])}))):n("div",{staticClass:"bonus-item"},[n("div",{staticClass:"name"},[t.row.is_new_member?n("span",[e._v("\n                  开卡\n                ")]):t.row.prestore_price||t.row.giving_price?n("span",[e._v("\n                  充值\n                ")]):n("span",[e._v("\n                  快速消费\n                ")]),(t.row.is_new_member||t.row.prestore_price||t.row.giving_price)&&t.row.giving_price>0?n("span",[n("br"),e._v("(赠金:"+e._s(t.row.giving_price)+")\n                ")]):e._e()]),n("div",{staticClass:"perform"},[n("span",[e._v("\n                  "+e._s(t.row.gross_price)+"\n                ")])]),n("div",{staticClass:"staffList"},e._l(t.row.bonus,(function(t,a){return n("div",{key:a,staticClass:"staffList-item"},[n("div",{staticClass:"staffList-item-name"},[e._v(e._s(t.staff.staff_name))]),n("div",{staticClass:"staffList-item-isSpecial"},[e._v("\n                    "+e._s(t.specified_switch?"是":"否")+"\n                  ")]),n("div",{staticClass:"staffList-item-perform"},[e._v("\n                    "+e._s(t.performance_price)+"\n                  ")]),n("div",{staticClass:"staffList-item-commission"},[e._v("\n                    "+e._s(t.dividends_price)+"\n                  ")])])})))])])]}}])}),n("el-table-column",{attrs:{align:"center",label:"消费业绩"}}),n("el-table-column",{attrs:{align:"center",label:"员工信息"}}),n("el-table-column",{attrs:{align:"center",label:"是否指定"}}),n("el-table-column",{attrs:{align:"center",label:"员工业绩"}}),n("el-table-column",{attrs:{align:"center",label:"员工提成"}})],1),n("el-table-column",{attrs:{align:"center",label:"备注",width:"120","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.memo))]}}])})],1),n("el-pagination",{attrs:{"current-page":e.pageVar.page,"page-sizes":e.pageVar.pageSizes,"page-size":e.pageVar.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVar.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},oe=[],ce=(n("55dd"),n("c5f6"),n("7514"),{data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,list:[],staffList:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]},pageVar:{page:1,total:0,pageSize:50,pageSizes:[10,20,30,40,50]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();if(!isNaN(t)&&t>26784e5)this.$Message.info("日期范围不能大于1个月");else{this.listLoading=!0;var n=new Map([["tenant_project","services"],["tenant_commodity","commodity"],["tenant_meter","count"],["tenant_meter_employ","countUse"]]);this.staffList.length?i.call(this):a.call(this).then((function(){i.call(e)}))}function a(){var e=this;return this.$api.common.getStaffList().then((function(t){e.staffList=Object.values(t.data)}))}function i(){var e=this;return this.$api.business.getOrderList(this.searchForm).then((function(t){if(!t.data.orders&&(t.data.orders=[]),e.list=t.data.orders.filter((function(t){return 1===t.obsolete_status&&(t.bonus||(t.bonus=[]),t.shopping_cart&&(t.shopping_cart=JSON.parse(t.shopping_cart),t.bonus.map((function(e){var a=n.get(e.type);if(!a)throw new Error("未匹配到商品",a,e);var i=t.shopping_cart.find((function(t){return t.type===a&&Number(t.index)===Number(e.source_weight)}));i&&(!i.bonusList&&(i.bonusList=[]),i.bonusList.push(e))}))),t.bonus.map((function(t){t.staff=e.staffList.find((function(e){return Number(e.id)===t.staff_id}))})),!0)})),t.data.orders.map((function(e){e.orderDate=Object(l["i"])(new Date(e.order_time),"{y}-{m}-{d}"),e.orderTime=Object(l["i"])(new Date(e.order_time),"{h}:{i}:{s}")})),e.listLoading=!1,e.pageVar.total=e.list.length,t.data.diff&&t.data.diff.length){t.data.diff.sort((function(e,t){return e-t}));var a=t.data.diff.reduce((function(e,t){return e?e+","+t:t}),"");e.$alert("不存在的单号:".concat(a),"提示",{confirmButtonText:"确定"})}}))}},handleSizeChange:function(e){this.pageVar.pageSize=e,this.pageVar.page=1},handleCurrentChange:function(e){this.pageVar.page=e},rowMerge:function(e){e.row,e.column,e.rowIndex;var t=e.columnIndex;return 5===t?{colspan:6,rowspan:1}:t>5&&t<11?[0,0]:void 0},bonusCellClass:function(e){e.row,e.column,e.rowIndex;var t=e.columnIndex;if(5===t)return"bonus-column-custom"}}}),ue=ce,me=(n("f50c"),Object(u["a"])(ue,le,oe,!1,null,"72e46200",null));me.options.__file="orderDeleted.vue";var de=me.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.list.slice((e.pageVar.page-1)*e.pageVar.pageSize,e.pageVar.page*e.pageVar.pageSize),"header-cell-class-name":"el-table-header-cell-custom",fit:""}},[n("el-table-column",{attrs:{align:"center",label:"操作时间",width:"155"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.create_time))]}}])}),n("el-table-column",{attrs:{align:"center",label:"用户类型",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.type))]}}])}),n("el-table-column",{attrs:{align:"center",label:"用户名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.name))]}}])}),n("el-table-column",{attrs:{align:"center",label:"详情"}},[n("el-table-column",{attrs:{align:"center",label:"请求方法",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.method))]}}])}),n("el-table-column",{attrs:{align:"center",label:"请求路由",width:"195"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.url))]}}])}),n("el-table-column",{attrs:{align:"center",label:"请求体","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.request))]}}])}),n("el-table-column",{attrs:{align:"center",label:"响应体","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.response))]}}])})],1)],1),n("el-pagination",{attrs:{"current-page":e.pageVar.page,"page-sizes":e.pageVar.pageSizes,"page-size":e.pageVar.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageVar.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},pe=[],ge={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,list:[],staffList:[],pageVar:{page:1,total:0,pageSize:20,pageSizes:[10,20,30,40]},pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();if(!isNaN(t)&&t>26784e5)this.$Message.info("日期范围不能大于1个月");else{this.listLoading=!0;var n=this.$store.dispatch("store/refreshStoreList"),a=this.$api.common.getStaffList();Promise.all([n,a]).then((function(t){e.staffList=t[1].data?Object.values(t[1].data):[],e.$api.common.getLogs(e.searchForm).then((function(t){t.data.map((function(n,a){"user_tenant"===n.business_role?(n.type="商户",e.$store.dispatch("store/findStore",n.business_id).then((function(i){n.name=i.store_name,a===t.data.length-1&&(e.list=t.data)}))):"tenant_staff"===n.business_role&&(n.type="员工",e.staffList.some((function(e){if(e.id===n.business_id)return n.name=e.staff_name,!0})))})),e.pageVar.total=t.data.length,e.listLoading=!1}))})).catch((function(e){}))}},handleSizeChange:function(e){this.pageVar.pageSize=e,this.pageVar.page=1},handleCurrentChange:function(e){this.pageVar.page=e}}},_e=ge,he=(n("b68d"),Object(u["a"])(_e,fe,pe,!1,null,"cb255d8a",null));he.options.__file="logs.vue";var be=he.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.list,"span-method":e.rowMerge,"header-cell-class-name":"el-table-header-cell-custom","cell-class-name":e.bonusCellClass,fit:""}},[n("el-table-column",{attrs:{align:"center",label:"店名",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.store_name))]}}])}),n("el-table-column",{attrs:{align:"center",label:"跨店"}},[n("el-table-column",{attrs:{align:"center",label:"店名"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.statistics,(function(t,a){return n("div",{key:a,staticClass:"store-item"},[n("div",{staticClass:"store"},[e._v("\n              "+e._s(t.store_name)+"\n            ")]),n("div",{staticClass:"balance"},[e._v("\n              "+e._s(t.consume.balance)+"\n            ")]),n("div",{staticClass:"giving"},[e._v("\n              "+e._s(t.consume.giving)+"\n            ")]),n("div",{staticClass:"consume"},[e._v("\n              "+e._s(t.prestore)+"\n            ")])])}))}}])}),n("el-table-column",{attrs:{align:"center",label:"余额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.store_name))]}}])}),n("el-table-column",{attrs:{align:"center",label:"赠金"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.store_name))]}}])}),n("el-table-column",{attrs:{align:"center",label:"充值金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.store_name))]}}])})],1)],1)],1)},ye=[],ve={data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,list:[],pickerOptions:{shortcuts:[{text:"昨天",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-864e5),n.setTime(n.getTime()-864e5),e.$emit("pick",[t,n])}},{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 00:00:00"),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")+" 23:59:59");t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}")+" 00:00:00",this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")+" 23:59:59"):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])(new Date,"{y}-{m}-{d}")+" 00:00:00",Object(l["i"])(new Date,"{y}-{m}-{d}")+" 23:59:59"],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getAcrossReportStats(this.searchForm).then((function(t){e.list=t.data,e.listLoading=!1})))},rowMerge:function(e){e.row,e.column,e.rowIndex;var t=e.columnIndex;return 1===t?{colspan:4,rowspan:1}:t>1?[0,0]:void 0},bonusCellClass:function(e){e.row,e.column,e.rowIndex;var t=e.columnIndex;if(1===t)return"bonus-column-custom"}}},De=ve,ke=(n("9244"),Object(u["a"])(De,we,ye,!1,null,"60e31f3f",null));ke.options.__file="across.vue";var Te=ke.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.stats,"header-cell-class-name":"el-table-header-cell-custom","show-summary":"","summary-method":e.totalSum,fit:""}},[n("el-table-column",{attrs:{align:"center",label:"日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.date))]}}])}),n("el-table-column",{attrs:{align:"center",label:"营业收入",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.business))]}}])}),n("el-table-column",{attrs:{align:"center",label:"订单总数","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"男客数",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.gender.man||0))]}}])}),n("el-table-column",{attrs:{align:"center",label:"女客数","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.gender.woman||0))]}}])}),n("el-table-column",{attrs:{align:"center",label:"游客单数",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.tourist_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"游客总额","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.tourist_peice))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员单数",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"新会员开卡数","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.new_member_count))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员开卡充值","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.new_member.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员开卡赠金","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.new_member.giving_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员充值金额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.prestore_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员充值赠金","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member.giving_price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"订单消费总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"店内消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.costPrice))]}}])}),n("el-table-column",{attrs:{align:"center",label:"余额消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sys_pay.payment_balance))]}}])}),n("el-table-column",{attrs:{align:"center",label:"计次使用总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.meter_employ.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"计次消费总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.meter_orders.price))]}}])}),n("el-table-column",{attrs:{align:"center",label:"赠金消耗总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sys_pay.payment_giving))]}}])}),n("el-table-column",{attrs:{align:"center",label:"欠款订单总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.await))]}}])}),n("el-table-column",{attrs:{align:"center",label:"免单订单总额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.free))]}}])}),n("el-table-column",{attrs:{align:"center",label:"会员现金金额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.member_cash))]}}])}),n("el-table-column",{attrs:{align:"center",label:"还款金额","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.repay[0].arrears_price))]}}])})],1)],1)},Se=[],je=n("be94"),Ce=(n("456d"),{data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}"));t.setTime(t.getTime()-5184e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}"));t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}"),this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])((new Date).getTime()-5184e5,"{y}-{m}-{d}"),Object(l["i"])(new Date,"{y}-{m}-{d}")],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getDailyReportStats(this.searchForm).then((function(t){e.stats=t.data&&Object.keys(t.data).map((function(e){return t.data[e].gender=t.data[e].gender?t.data[e].gender.reduce((function(e,t){return"男"===t.gender?e["man"]=t.qty:"女"===t.gender&&(e["woman"]=t.qty),e}),{}):{},t.data[e].repay=t.data[e].repay||[{arrears_price:0}],t.data[e].costPrice=Number(t.data[e].price-t.data[e].meter_orders.price+t.data[e].meter_employ.price).toFixed(2),Object(je["a"])({date:e},t.data[e])})),e.listLoading=!1})))},totalSum:function(e){var t=e.columns,n=e.data,a=new Map([[1,function(e){return s(e,"business")}],[2,function(e){return s(e,"count")}],[3,function(e){return s(e,"gender","man")}],[4,function(e){return s(e,"gender","woman")}],[5,function(e){return s(e,"tourist_count")}],[6,function(e){return s(e,"tourist_peice")}],[7,function(e){return s(e,"member_count")}],[8,function(e){return s(e,"new_member_count")}],[9,function(e){return s(e,"new_member","prestore_price")}],[10,function(e){return s(e,"new_member","giving_price")}],[11,function(e){return s(e,"member","prestore_price")}],[12,function(e){return s(e,"member","giving_price")}],[13,function(e){return s(e,"price")}],[14,function(e){return s(e,"costPrice")}],[15,function(e){return s(e,"sys_pay","payment_balance")}],[16,function(e){return s(e,"meter_employ","price")}],[17,function(e){return s(e,"meter_orders","price")}],[18,function(e){return s(e,"sys_pay","payment_giving")}],[19,function(e){return s(e,"await")}],[20,function(e){return s(e,"free")}],[21,function(e){return s(e,"member_cash")}],[22,function(e){return s(e,"repay",0,"arrears_price")}]]),i=[];function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0][t[1]]||0;return void 0!==t[2]?(t.splice(0,2),s.apply(this,[a].concat(t))):a}return t.forEach((function(e,t){0!==t?(i[t]=0,a.has(t)&&(11===t?i[t]=n.reduce((function(e,t){var n=t.payments?t.payments.reduce((function(e,t){return e+Number(t.amount_price)}),0):0;return e+n}),0):n.map((function(e){i[t]+=Number(a.get(t)(e))}))),i[t]=Number(i[t]).toFixed(2)):i[t]="合计"})),i}}}),Le=Ce,xe=Object(u["a"])(Le,Oe,Se,!1,null,null,null);xe.options.__file="dailyReport.vue";var Fe=xe.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"func"},[n("div",{staticClass:"search"},[n("el-date-picker",{attrs:{type:"daterange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",size:"small","value-format":"yyyy-MM-dd"},model:{value:e.dateDuring,callback:function(t){e.dateDuring=t},expression:"dateDuring"}}),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){e.getList("normal")}}},[e._v("搜索")])],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticClass:"table-consume-custom",attrs:{data:e.stats,"header-cell-class-name":"el-table-header-cell-custom","show-summary":"","summary-method":e.totalSum,fit:""}},[n("el-table-column",{attrs:{align:"center",label:"日期",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.date))]}}])}),n("el-table-column",{attrs:{align:"center",label:"店内利润",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.profits))]}}])}),n("el-table-column",{attrs:{align:"center",label:"营业收入","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.business))]}}])}),n("el-table-column",{attrs:{align:"center",label:"还款金额",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.repay))]}}])}),n("el-table-column",{attrs:{align:"center",label:"店内收入","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.disburse_in))]}}])}),n("el-table-column",{attrs:{align:"center",label:"店内支出",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.disburse_out))]}}])}),n("el-table-column",{attrs:{align:"center",label:"项目成本","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.project_cost))]}}])}),n("el-table-column",{attrs:{align:"center",label:"商品成本",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.commodity_cost))]}}])}),n("el-table-column",{attrs:{align:"center",label:"计次成本","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.meter_cost))]}}])}),n("el-table-column",{attrs:{align:"center",label:"员工工资",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.salary))]}}])}),n("el-table-column",{attrs:{align:"center",label:"欠款金额","min-width":"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.payment_arrears))]}}])}),n("el-table-column",{attrs:{align:"center",label:"支付方式"}},e._l(e.paymentList,(function(t,a){return n("el-table-column",{key:a,attrs:{align:"center",label:t,"min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(n){return[e._v(e._s(n.row.paymentsMap.get(t)))]}}])})})))],1)],1)},Me=[],Ne=(n("6762"),n("2fdb"),{data:function(){return{dateDuring:"",searchForm:{start_time:"",end_time:""},listLoading:!1,stats:[],paymentList:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}"));t.setTime(t.getTime()-6048e5),e.$emit("pick",[t,n])}},{text:"最近一个月",onClick:function(e){var t=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}")),n=new Date(Object(l["i"])((new Date).getTime(),"{y}-{m}-{d}"));t.setTime(t.getTime()-2592e6),e.$emit("pick",[t,n])}}]}}},watch:{dateDuring:function(){this.dateDuring&&this.dateDuring.length?(this.searchForm.start_time=Object(l["i"])(this.dateDuring[0],"{y}-{m}-{d}"),this.searchForm.end_time=Object(l["i"])(this.dateDuring[1],"{y}-{m}-{d}")):(this.searchForm.start_time="",this.searchForm.end_time="")}},created:function(){this.dateDuring=[Object(l["i"])((new Date).getTime()-5184e5,"{y}-{m}-{d}"),Object(l["i"])(new Date,"{y}-{m}-{d}")],setTimeout(function(){this.getList()}.bind(this))},methods:{getList:function(){var e=this,t=new Date(this.searchForm.end_time).getTime()-new Date(this.searchForm.start_time).getTime();!isNaN(t)&&t>26784e5?this.$Message.info("日期范围不能大于1个月"):(this.listLoading=!0,this.$api.business.getProfitReportStats(this.searchForm).then((function(t){e.stats=t.data&&Object.keys(t.data).map((function(n){return t.data[n].paymentsMap||(t.data[n].paymentsMap=new Map),t.data[n].payments&&t.data[n].payments.forEach((function(a){t.data[n].paymentsMap.set(a.payment_name,a.amount_price),e.paymentList.includes(a.payment_name)||e.paymentList.push(a.payment_name)})),Object(je["a"])({date:n},t.data[n])})),e.listLoading=!1})))},totalSum:function(e){var t=e.columns,n=e.data,a=new Map([[1,function(e){return s(e,"profits")}],[2,function(e){return s(e,"business")}],[3,function(e){return s(e,"repay")}],[4,function(e){return s(e,"disburse_in")}],[5,function(e){return s(e,"disburse_out")}],[6,function(e){return s(e,"project_cost")}],[7,function(e){return s(e,"commodity_cost")}],[8,function(e){return s(e,"meter_cost")}],[9,function(e){return s(e,"salary")}],[10,function(e){return s(e,"payment_arrears")}]]),i=[];function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0][t[1]]||0;return void 0!==t[2]?(t.splice(0,2),s.apply(this,[a].concat(t))):a}return t.forEach((function(e,t){0!==t?(i[t]=0,a.has(t)?n.map((function(e){i[t]+=Number(a.get(t)(e))})):n.map((function(n){i[t]+=n.paymentsMap.get(e.label)||0})),i[t]=Number(i[t]).toFixed(2)):i[t]="合计"})),i}}}),ze=Ne,Ve=Object(u["a"])(ze,$e,Me,!1,null,null,null);Ve.options.__file="profitReport.vue";var He=Ve.exports,Ee={components:{Report:d,Payment:b,Category:T,Commodity:x,Service:V,Meter:I,Order:K,ShopReport:ee,DebtBack:re,OrderDeleted:de,Logs:be,Across:Te,DailyReport:Fe,ProfitReport:He},data:function(){return{componentName:"Report",componentMap:new Map([["报表统计","Report"],["支付方式统计","Payment"],["分类销售额统计","Category"],["商品销售数统计","Commodity"],["服务项目销售","Service"],["计次销售数统计","Meter"],["订单统计","Order"],["连锁报表统计","ShopReport"],["还款记录","DebtBack"],["撤单记录","OrderDeleted"],["系统操作日志","Logs"],["跨店报表分析","Across"],["店铺每日报表","DailyReport"],["店内利润报表","ProfitReport"]])}},created:function(){},methods:{handleSelect:function(e,t){this.componentName=this.componentMap.get(e)}}},Re=Ee,Pe=(n("6df2"),Object(u["a"])(Re,a,i,!1,null,"52d705e0",null));Pe.options.__file="index.vue";t["default"]=Pe.exports},cbd1:function(e,t,n){},d2c4:function(e,t,n){},f400:function(e,t,n){"use strict";var a=n("c26b"),i=n("b39a"),s="Map";e.exports=n("e0b8")(s,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=a.getEntry(i(this,s),e);return t&&t.v},set:function(e,t){return a.def(i(this,s),0===e?0:e,t)}},a,!0)},f50c:function(e,t,n){"use strict";var a=n("180d"),i=n.n(a);i.a}}]);